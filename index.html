<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Controle Financeiro - Viagens</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
    font-family: Arial, sans-serif;
    background-color: #000;
    color: #fff;
    margin: 0;
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: 20px;
}

.container {
    background-color: #fff;
    color: #000;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    width: 100%;
    max-width: 400px;
    text-align: center;
}

h1 {
    color: #FFA500;
}

.input-group {
    margin-bottom: 15px;
    text-align: left;
}

label {
    display: block;
    margin-bottom: 5px;
    color: #000;
}

input {
    width: 100%;
    padding: 8px;
    border: 1px solid #FFA500;
    border-radius: 5px;
    box-sizing: border-box;
}

button {
    width: 100%;
    padding: 10px;
    background-color: #FFA500;
    border: none;
    border-radius: 5px;
    color: #fff;
    cursor: pointer;
    margin-top: 10px;
}

button:hover {
    background-color: #cc8400;
}

.clear-button {
    background-color: #ff4444;
}

.clear-button:hover {
    background-color: #cc0000;
}

.results {
    margin-top: 20px;
    color: #000;
}

.results span {
    color: #FFA500;
    font-weight: bold;
}

.payment-list {
    margin-top: 20px;
    color: #000;
}

.payment-list ul {
    list-style-type: none;
    padding: 0;
}

.payment-list li {
    background-color: #f4f4f4;
    padding: 10px;
    margin-bottom: 5px;
    border-radius: 5px;
    color: #000;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.payment-list .paid {
    color: green;
    font-weight: bold;
}

.payment-list .not-paid {
    color: red;
    font-weight: bold;
}
    </style>
</head>
<body>
    <div class="container">
        <h1>Controle Financeiro - Viagens</h1>

        <!-- Entrada de custos fixos -->
        <div class="input-group">
            <label for="total-cost">Custo Total da Viagem (R$):</label>
            <input type="number" id="total-cost" placeholder="Ex: 5000">
        </div>

        <div class="input-group">
            <label for="bus-cost">Custo do Ônibus (R$):</label>
            <input type="number" id="bus-cost" placeholder="Ex: 3000">
        </div>

        <div class="input-group">
            <label for="seats">Total de Poltronas:</label>
            <input type="number" id="seats" placeholder="Ex: 46">
        </div>

        <div class="input-group">
            <label for="package-price">Valor do Pacote por Pessoa (R$):</label>
            <input type="number" id="package-price" placeholder="Ex: 200">
        </div>

       
        <button onclick="clearData()" class="clear-button">Limpar Tudo</button>

        <!-- Resultados -->
        <div class="results">
            <h2>Resultados</h2>
            <p>Custo por Poltrona: <span id="cost-per-seat">R$ 0,00</span></p>
            <p>Total Arrecadado: <span id="total-collected">R$ 0,00</span></p>
            <p>Falta Arrecadar: <span id="remaining-amount">R$ 0,00</span></p>
            <p>Poltronas Preenchidas: <span id="seats-filled">0</span></p>
            <p>Lucro por Poltrona: <span id="profit-per-seat">R$ 0,00</span></p>
        </div>

        <!-- Lista de Pagamentos -->
        <div class="payment-list">
            <h2>Pagamentos</h2>
            <ul id="payment-details"></ul>
        </div>
    </div>

    <script src="script.js"></script>
    <script>

let totalCollected = 0;
let seatsFilled = 0;
let people = [];

// Carrega os dados salvos ao iniciar
loadData();

function addPerson() {
    const personName = document.getElementById('person-name').value;
    const personPayment = parseFloat(document.getElementById('person-payment').value) || 0;
    const packagePrice = parseFloat(document.getElementById('package-price').value) || 0;

    if (!personName || personPayment <= 0) {
        alert("Por favor, insira um nome e um valor válido.");
        return;
    }

    // Adiciona a pessoa à lista
    people.push({ name: personName, payment: personPayment });
    totalCollected += personPayment;
    seatsFilled++;

    // Salva os dados no localStorage
    saveData();

    // Atualiza a lista de pagamentos
    updatePaymentList();

    // Atualiza os resultados
    updateResults();

    // Limpa os campos de entrada
    document.getElementById('person-name').value = "";
    document.getElementById('person-payment').value = "";
}

function updatePaymentList() {
    const paymentList = document.getElementById('payment-details');
    paymentList.innerHTML = "";

    const packagePrice = parseFloat(document.getElementById('package-price').value) || 0;

    people.forEach(person => {
        const li = document.createElement('li');
        const remaining = packagePrice - person.payment;

        li.innerHTML = `
            <span>${person.name}</span>
            <span>Pago: R$ ${person.payment.toFixed(2)}</span>
            <span class="${remaining <= 0 ? 'paid' : 'not-paid'}">
                ${remaining <= 0 ? 'Pago' : `Falta: R$ ${remaining.toFixed(2)}`}
            </span>
        `;
        paymentList.appendChild(li);
    });
}

function updateResults() {
    const totalCost = parseFloat(document.getElementById('total-cost').value) || 0;
    const busCost = parseFloat(document.getElementById('bus-cost').value) || 0;
    const seats = parseFloat(document.getElementById('seats').value) || 1;
    const packagePrice = parseFloat(document.getElementById('package-price').value) || 0;

    // Custo por poltrona
    const costPerSeat = busCost / seats;
    document.getElementById('cost-per-seat').textContent = `R$ ${costPerSeat.toFixed(2)}`;

    // Total arrecadado e quanto falta
    document.getElementById('total-collected').textContent = `R$ ${totalCollected.toFixed(2)}`;
    const remainingAmount = totalCost - totalCollected;
    document.getElementById('remaining-amount').textContent = `R$ ${remainingAmount.toFixed(2)}`;

    // Poltronas preenchidas e lucro por poltrona
    document.getElementById('seats-filled').textContent = seatsFilled;
    const profitPerSeat = packagePrice - costPerSeat;
    document.getElementById('profit-per-seat').textContent = `R$ ${profitPerSeat.toFixed(2)}`;
}

function saveData() {
    localStorage.setItem('people', JSON.stringify(people));
    localStorage.setItem('totalCollected', totalCollected);
    localStorage.setItem('seatsFilled', seatsFilled);
}

function loadData() {
    const savedPeople = localStorage.getItem('people');
    const savedTotalCollected = localStorage.getItem('totalCollected');
    const savedSeatsFilled = localStorage.getItem('seatsFilled');

    if (savedPeople) {
        people = JSON.parse(savedPeople);
        totalCollected = parseFloat(savedTotalCollected) || 0;
        seatsFilled = parseInt(savedSeatsFilled) || 0;

        updatePaymentList();
        updateResults();
    }
}

function clearData() {
    if (confirm("Tem certeza que deseja limpar todos os dados?")) {
        localStorage.clear();
        people = [];
        totalCollected = 0;
        seatsFilled = 0;

        updatePaymentList();
        updateResults();
    }
}
    </script>
</body>
</html>